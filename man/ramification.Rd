% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pipes.R
\name{ramification}
\alias{ramification}
\alias{ramify}
\alias{branch}
\alias{harvest}
\title{Branching pipes}
\usage{
ramify(., ram.id = 1)

branch(., branch.id = 2, ram.id = NULL)

harvest(., ram.id = 1, clear = TRUE)
}
\arguments{
\item{.}{Usually omitted.}

\item{ram.id}{If only two branches are needed, can be omitted. Otherwise id of the branch.}

\item{branch.id}{Equals 2 by default. Family of branches, or parent branch.}

\item{clear}{Logical, TRUE by default. Clear the buffer (delete hidden object from Global Environment).}
}
\description{
Three little functions that allow for branching pipes. It is against Hadley's idea, as pipes are in principle linear, and in general I agree, but sometimes it would be comfy to ramify pipes away. It overcomes native \emph{magrittr}'s \emph{\%T>\%} by allowing more than one step after cutting the pipe.
}
\details{
Imagine you need to create a list with means, correlations, and regression results. And you like to do it in one single pipe. In general, it is not possible, and you'll have to start a second pipe, probably doing some redundant computations.

\emph{"Pipes are fundamentally linear and expressing complex relationships with them will typically yield confusing code."}
\url{http://r4ds.had.co.nz/pipes.html#when-not-to-use-the-pipe}

\describe{
\item{ramify}{Saves current result into temporary object \code{.buf} and identifies a point in the pipe where branching will happen. Argument is an id of a ramification.}
\item{branch}{Starts a new branch from the \code{ramify} point. (\code{branch(1)} can be omitted, as \code{ramify} creates the first branch. Second argument is a family of branches, or parent branch. By default it uses the last parent branch created by the last used \code{ramify}.}
\item{harvest}{Returns contents of all the branches as a list.}
\item{getbranch}{to access information from neghbouring branches. Not implemented yet.}
}
\if{html}{\figure{branch.png}{options: width=500 alt="Ramification function"}}
}
\examples{
\donttest{
data.frame(a=1:5, b=1/(1+exp(6:10)) ) \%>\%
  ramify(1) \%>\%
  branch(1) \%>\% colMeans \%>\%
    branch(2) \%>\% lm(a ~ b, .) \%>\% tidy(2) \%>\%
    branch(3) \%>\% cor \%>\%
  ramify(2) \%>\%
    branch(1) \%>\% round(2) \%>\%
    branch(2) \%>\% fisherz(.) \%>\%
  harvest(2) \%>\%
harvest
}

}
